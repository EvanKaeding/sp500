{
    "collab_server" : "",
    "contents" : "## Libraries\n\nlibrary(httr)\nlibrary(lubridate)\nlibrary(XML)\n\n## 1. Download the page and parse it\n\n        url <- \"https://en.wikipedia.org/wiki/List_of_S%26P_500_companies\"\n\n        html <- GET(url)\n\n        contents <- content(html, as = \"text\")\n\n        parsedHTML <- htmlParse(contents, asText = TRUE)\n\n## 2. Use the readHTMLTable function to exctract only the first table as a data.frame\n\n        sp500 <- readHTMLTable(parsedHTML, which = 1)\n        \n## 3. Clean up the data. We'll start by cleaning the headers, then reclass some of the variables\n        \n        colnames(sp500) <- tolower(gsub(\" \", \"_\", colnames(sp500)))\n        \n        sp500 <- sp500 %>%\n                select(-sec_filings) %>%\n                mutate(security = as.character(security)) %>%\n                mutate(address_of_headquarters = as.character(address_of_headquarters)) %>%\n                mutate(date_first_added = ymd(date_first_added))\n        \n## 4. Finally, we'll save it as something that's easy to read in with its associated metadata\n        \n        save(sp500, file = \"sp500.rda\")\n        \n        \n# to load SP500 as a DF into your global environment, do this:\n# load(\"path/SP500.rda\")\n",
    "created" : 1513816640847.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "559714293",
    "id" : "A949CF",
    "lastKnownWriteTime" : 1513819412,
    "last_content_update" : 1513819412285,
    "path" : "~/Projects/sp500/get_sp500.R",
    "project_path" : "get_sp500.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}